# libnickel.so.1.0.0 in firmware 3.12.0 (563a2baefd)
# For use by patch32lsb v0.10 or later.

#
# The following four patches are alternatives, don't enable more than one.
#

<Patch>
patch_name = `Disable reading footer (all devices)`
patch_enable = `no`
# Multi-version patch: 3.11.0 - 3.12.0+
find_base_address = `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}`
#
replace_string = 0000, `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}\n\nReadingFooter[qApp_deviceCodeName="phoenix"] {\n\tmin-height: 82px;\n\tmax-height: 82px;\n}\n\nReadingFooter[qApp_deviceCodeName="dragon"] {\n\tmin-height: 120px;\n\tmax-height: 120px;\n\tqproperty-footerMargin: 170;\n}\n\n* {\n\tfont-size: 16px;\n}\n\n[qApp_deviceCodeName="phoenix"] {\n\tfont-size: 20px;\n}\n\n[qApp_deviceCodeName="dragon"] {\n\tfont-size: 26px;\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`, `* {\n\theight: 5px;\n\tfont-size: 1px;\n\tcolor: transparent;\n}\n\n`
</Patch>


<Patch>
patch_name = `Custom reading footer style (Touch/Mini)`
patch_enable = `no`
# Multi-version patch: 3.11.0 - 3.12.0+
find_base_address = `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}`
#
replace_string = 0000, `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}\n\nReadingFooter[qApp_deviceCodeName="phoenix"] {\n\tmin-height: 82px;\n\tmax-height: 82px;\n}\n\nReadingFooter[qApp_deviceCodeName="dragon"] {\n\tmin-height: 120px;\n\tmax-height: 120px;\n\tqproperty-footerMargin: 170;\n}\n\n* {\n\tfont-size: 16px;\n}\n\n[qApp_deviceCodeName="phoenix"] {\n\tfont-size: 20px;\n}\n\n[qApp_deviceCodeName="dragon"] {\n\tfont-size: 26px;\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`, `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}\n\n* {\n\tfont-size: 16px;\n\tpadding-bottom: 0px;\n\tmargin-top: 0px;\n\t/*font-family:none;*/\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`
#
# Uncomment the three replace_string lines of one of the examples below,
# comment out the rest. If you choose to make further changes to the examples,
# BE CAREFUL NOT TO ALTER THE LENGTH OF THE REPLACEMENT STRINGS! (Add or remove
# spaces if necessary to keep the total length the same.)
#
# Examples 1 or 4 are recommended for use with the adjustable/fixed top/bottom
# margin patches when configured to set both top and bottom margins.
#
# Examples 4, 5 or 6 are recommended if you also read kepubs, because the space
# between bezel and footer matches the space between bezel and kepub header.
#
#
# Example 1: Small footer, close to bezel
#replace_string = 0011, `min-height: 70px;`, `min-height: 24px;`
#replace_string = 0024, `max-height: 70px;`, `max-height: 24px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 4px;`
#
# Example 2: Medium footer, close to bezel
replace_string = 0011, `min-height: 70px;`, `min-height: 32px;`
replace_string = 0024, `max-height: 70px;`, `max-height: 32px;`
replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 4px;`
#
# Example 3: Large footer, close to bezel
#replace_string = 0011, `min-height: 70px;`, `min-height: 48px;`
#replace_string = 0024, `max-height: 70px;`, `max-height: 48px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 0px;`
#
# Example 4: Small footer, away from bezel
#replace_string = 0011, `min-height: 70px;`, `min-height: 24px;`
#replace_string = 0024, `max-height: 70px;`, `max-height: 24px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:20px;`
#
# Example 5: Medium footer, away from bezel
#replace_string = 0011, `min-height: 70px;`, `min-height: 32px;`
#replace_string = 0024, `max-height: 70px;`, `max-height: 32px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:16px;`
#
# Example 6: Large footer, away from bezel
#replace_string = 0011, `min-height: 70px;`, `min-height: 48px;`
#replace_string = 0024, `max-height: 70px;`, `max-height: 48px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 8px;`
#
#
# Uncomment the following line to reduce the footer font size:
#replace_string = 005C, `font-size: 16px;`, `font-size: 14px;`
#
# Uncomment the following line to further reduce the space above the footer:
#replace_string = 0084, `margin-top: 0px;`, `margin-top:-4px;`
#
# Uncomment one of the following lines to use a fixed font style. This is
# recommended if you have chosen examples 1 or 4 above, because some other
# fonts sit too low in the footer and get cut off at the bottom.
# Also enable one of the Custom header style patches below with the same font
# style if you read kepubs.
#
#replace_string = 0096, `/*font-family:none;*/`, `font-family:  Amasis;`
#replace_string = 0096, `/*font-family:none;*/`, `font-family:  Avenir;`
#replace_string = 0096, `/*font-family:none;*/`, `font-family: Georgia;`
#
</Patch>


<Patch>
patch_name = `Custom reading footer style (Glo/Aura)`
patch_enable = `no`
# Multi-version patch: 3.11.0 - 3.12.0+
find_base_address = `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}`
#
replace_string = 0000, `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}\n\nReadingFooter[qApp_deviceCodeName="phoenix"] {\n\tmin-height: 82px;\n\tmax-height: 82px;\n}\n\nReadingFooter[qApp_deviceCodeName="dragon"] {\n\tmin-height: 120px;\n\tmax-height: 120px;\n\tqproperty-footerMargin: 170;\n}\n\n* {\n\tfont-size: 16px;\n}\n\n[qApp_deviceCodeName="phoenix"] {\n\tfont-size: 20px;\n}\n\n[qApp_deviceCodeName="dragon"] {\n\tfont-size: 26px;\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`, `ReadingFooter {\n\tmin-height: 82px;\n\tmax-height: 82px;\n\tqproperty-footerMargin: 105;\n}\n\n* {\n\tfont-size: 20px;\n\tpadding-bottom: 0px;\n\tmargin-top: 0px;\n\t/*font-family:none;*/\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`
#
# Uncomment the three replace_string lines of one of the examples below,
# comment out the rest. If you choose to make further changes to the examples,
# BE CAREFUL NOT TO ALTER THE LENGTH OF THE REPLACEMENT STRINGS! (Add or remove
# spaces if necessary to keep the total length the same.)
#
# Examples 1 or 4 are recommended for use with the adjustable/fixed top/bottom
# margin patches when configured to set both top and bottom margins.
#
# Examples 4, 5 or 6 are recommended if you also read kepubs, because the space
# between bezel and footer matches the space between bezel and kepub header.
#
#
# Example 1: Small footer, close to bezel
#replace_string = 0011, `min-height: 82px;`, `min-height: 30px;`
#replace_string = 0024, `max-height: 82px;`, `max-height: 30px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 5px;`
#
# Example 2: Medium footer, close to bezel
replace_string = 0011, `min-height: 82px;`, `min-height: 40px;`
replace_string = 0024, `max-height: 82px;`, `max-height: 40px;`
replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 5px;`
#
# Example 3: Large footer, close to bezel
#replace_string = 0011, `min-height: 82px;`, `min-height: 60px;`
#replace_string = 0024, `max-height: 82px;`, `max-height: 60px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 0px;`
#
# Example 4: Small footer, away from bezel
#replace_string = 0011, `min-height: 82px;`, `min-height: 30px;`
#replace_string = 0024, `max-height: 82px;`, `max-height: 30px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:25px;`
#
# Example 5: Medium footer, away from bezel
#replace_string = 0011, `min-height: 82px;`, `min-height: 40px;`
#replace_string = 0024, `max-height: 82px;`, `max-height: 40px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:20px;`
#
# Example 6: Large footer, away from bezel
#replace_string = 0011, `min-height: 82px;`, `min-height: 60px;`
#replace_string = 0024, `max-height: 82px;`, `max-height: 60px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:10px;`
#
#
# Uncomment the following line to reduce the footer font size:
#replace_string = 005C, `font-size: 20px;`, `font-size: 18px;`
#
# Uncomment the following line to further reduce the space above the footer:
#replace_string = 0084, `margin-top: 0px;`, `margin-top:-5px;`
#
# Uncomment one of the following lines to use a fixed font style. This is
# recommended if you have chosen examples 1 or 4 above, because some other
# fonts sit too low in the footer and get cut off at the bottom.
# Also enable one of the Custom header style patches below with the same font
# style if you read kepubs.
#
#replace_string = 0096, `/*font-family:none;*/`, `font-family:  Amasis;`
#replace_string = 0096, `/*font-family:none;*/`, `font-family:  Avenir;`
#replace_string = 0096, `/*font-family:none;*/`, `font-family: Georgia;`
#
</Patch>


<Patch>
patch_name = `Custom reading footer style (Aura HD/H2O)`
patch_enable = `no`
# Multi-version patch: 3.11.0 - 3.12.0+
find_base_address = `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}`
#
replace_string = 0000, `ReadingFooter {\n\tmin-height: 70px;\n\tmax-height: 70px;\n\tqproperty-footerMargin: 105;\n}\n\nReadingFooter[qApp_deviceCodeName="phoenix"] {\n\tmin-height: 82px;\n\tmax-height: 82px;\n}\n\nReadingFooter[qApp_deviceCodeName="dragon"] {\n\tmin-height: 120px;\n\tmax-height: 120px;\n\tqproperty-footerMargin: 170;\n}\n\n* {\n\tfont-size: 16px;\n}\n\n[qApp_deviceCodeName="phoenix"] {\n\tfont-size: 20px;\n}\n\n[qApp_deviceCodeName="dragon"] {\n\tfont-size: 26px;\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`, `ReadingFooter {\n\tmin-height:120px;\n\tmax-height:120px;\n\tqproperty-footerMargin: 170;\n}\n\n* {\n\tfont-size: 26px;\n\tpadding-bottom: 0px;\n\tmargin-top: 0px;\n\t/*font-family:none;*/\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n}`
#
# Uncomment the three replace_string lines of one of the examples below,
# comment out the rest. If you choose to make further changes to the examples,
# BE CAREFUL NOT TO ALTER THE LENGTH OF THE REPLACEMENT STRINGS! (Add or remove
# spaces if necessary to keep the total length the same.)
#
# Examples 1 or 4 are recommended for use with the adjustable/fixed top/bottom
# margin patches when configured to set both top and bottom margins.
#
# Examples 4, 5 or 6 are recommended if you also read kepubs, because the space
# between bezel and footer matches the space between bezel and kepub header.
#
#
# Example 1: Small footer, close to bezel
#replace_string = 0011, `min-height:120px;`, `min-height: 40px;`
#replace_string = 0024, `max-height:120px;`, `max-height: 40px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 7px;`
#
# Example 2: Medium footer, close to bezel
replace_string = 0011, `min-height:120px;`, `min-height: 52px;`
replace_string = 0024, `max-height:120px;`, `max-height: 52px;`
replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 7px;`
#
# Example 3: Large footer, close to bezel
#replace_string = 0011, `min-height:120px;`, `min-height: 80px;`
#replace_string = 0024, `max-height:120px;`, `max-height: 80px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom: 0px;`
#
# Example 4: Small footer, away from bezel
#replace_string = 0011, `min-height:120px;`, `min-height: 40px;`
#replace_string = 0024, `max-height:120px;`, `max-height: 40px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:36px;`
#
# Example 5: Medium footer, away from bezel
#replace_string = 0011, `min-height:120px;`, `min-height: 52px;`
#replace_string = 0024, `max-height:120px;`, `max-height: 52px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:30px;`
#
# Example 6: Large footer, away from bezel
#replace_string = 0011, `min-height:120px;`, `min-height: 80px;`
#replace_string = 0024, `max-height:120px;`, `max-height: 80px;`
#replace_string = 006E, `padding-bottom: 0px;`, `padding-bottom:16px;`
#
#
# Uncomment the following line to reduce the footer font size:
#replace_string = 005C, `font-size: 26px;`, `font-size: 23px;`
#
# Uncomment the following line to further reduce the space above the footer:
#replace_string = 0084, `margin-top: 0px;`, `margin-top:-7px;`
#
# Uncomment one of the following lines to use a fixed font style. This is
# recommended if you have chosen examples 1 or 4 above, because some other
# fonts sit too low in the footer and get cut off at the bottom.
# Also enable one of the Custom header style patches below with the same font
# style if you read kepubs.
#
#replace_string = 0096, `/*font-family:none;*/`, `font-family:  Amasis;`
#replace_string = 0096, `/*font-family:none;*/`, `font-family:  Avenir;`
#replace_string = 0096, `/*font-family:none;*/`, `font-family: Georgia;`
#
</Patch>


<Patch>
patch_name = `Custom header style for Touch`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
find_base_address = `* {\nfont-size: 16px;\nfont-family: Avenir;\nbackground-color: transparent;\npadding-top:3px;\n}`
#
replace_string = 0000, `* {\nfont-size: 16px;\nfont-family: Avenir;\nbackground-color: transparent;\npadding-top:3px;\n}\n\n[qApp_localeName="ja_JP"] {\nfont-family: A-OTF Gothic MB101 Pr6N;\nqproperty-leading: 0;\n}`, `* {\nfont-size: 16px;\nfont-family:  Avenir;\nbackground-color: transparent;\npadding-top:3px;\n}`
#
# BE CAREFUL NOT TO ALTER THE LENGTH OF THE FOLLOWING REPLACEMENT STRINGS!
# (Add or remove spaces if necessary to keep the total length the same.)
#
replace_string = 0004, `font-size: 16px;`, `font-size: 16px;`
#
#replace_string = 0015, `font-family:  Avenir;`, `font-family:  Amasis;`
replace_string = 0015, `font-family:  Avenir;`, `font-family:  Avenir;`
#replace_string = 0015, `font-family:  Avenir;`, `font-family: Georgia;`
#
</Patch>


<Patch>
patch_name = `Custom header style for Mini`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
find_base_address = `* {\nfont-size: 20px;\nfont-family: Avenir;\nbackground-color: transparent;\npadding-top:3px;\n}`
#
replace_string = 0000, `* {\nfont-size: 20px;\nfont-family: Avenir;\nbackground-color: transparent;\npadding-top:3px;\n}\n\n[qApp_deviceCodeName="pixie"] {\nfont-size: 18px;\n}\n\n[qApp_deviceCodeName="dragon"] {\nfont-family: Georgia;\nfont-size: 26px;\n}\n\n[qApp_localeName="ja_JP"] {\nfont-family: A-OTF Gothic MB101 Pr6N;\n}`, `* {\nfont-size: 20px;\nfont-family:  Avenir;\nbackground-color: transparent;\npadding-top:3px;\n}` 
#
# BE CAREFUL NOT TO ALTER THE LENGTH OF THE FOLLOWING REPLACEMENT STRINGS!
# (Add or remove spaces if necessary to keep the total length the same.)
#
replace_string = 0004, `font-size: 20px;`, `font-size: 18px;`
#
#replace_string = 0015, `font-family:  Avenir;`, `font-family:  Amasis;`
replace_string = 0015, `font-family:  Avenir;`, `font-family:  Avenir;`
#replace_string = 0015, `font-family:  Avenir;`, `font-family: Georgia;`
#
</Patch>


<Patch>
patch_name = `Custom header style for Glo/Aura/AuraHD/H2O`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
find_base_address = `* {\n\tbackground-color: transparent;\n\tpadding-top:3px;\n}`
#
replace_string = 0000, `* {\n\tbackground-color: transparent;\n\tpadding-top:3px;\n}\n\n[qApp_deviceCodeName="dragon"] {\n\tfont-size: 26px;\n}\n\n[qApp_deviceCodeName="phoenix"] {\n\tfont-size: 21px;\n}\n\n[qApp_localeName="ja_JP"] {\n\tfont-family: A-OTF Gothic MB101 Pr6N;\n\tqproperty-leading: 0;\n}`, `* {\n\tbackground-color: transparent;\n\tpadding-top:3px;\n\t/*font-family:none;*/\n\tfont-size: 21px;\n}`
#
# BE CAREFUL NOT TO ALTER THE LENGTH OF THE FOLLOWING REPLACEMENT STRINGS!
# (Add or remove spaces if necessary to keep the total length the same.)
#
# Font size for Glo/Aura
replace_string = 004E, `font-size: 21px;`, `font-size: 21px;`
#
# Font size for AuraHD/H2O
#replace_string = 004E, `font-size: 21px;`, `font-size: 26px;`
#
# Font family for Glo/Aura/AuraHD/H2O
#replace_string = 0037, `/*font-family:none;*/`, `font-family:  Amasis;`
replace_string = 0037, `/*font-family:none;*/`, `font-family:  Avenir;`
#replace_string = 0037, `/*font-family:none;*/`, `font-family: Georgia;`
</Patch>


#
# The following two patches are alternatives, don't enable both at once.
#
# Note that the kepub reader can have problems when the line spacing value is
# below about 0.85 (depending on the font family), resulting in the top line of
# text being cut off and the cut-off part showing at the bottom of the previous
# page.
#
<Patch>
patch_name = `My 10 line spacing values` 
patch_enable = `no`
replace_bytes = 6C3AD4, 8D F5 8A ED, 00 46 00 46
replace_bytes = 6C3B2A, 8D F5 60 ED, 00 46 00 46
replace_bytes = 6C3B54, 8D F5 4A ED, 00 46 00 46
replace_bytes = 6C3B90, 8D F5 2C ED, 00 46 00 46
replace_bytes = 6C3BF6, 8D F5 FA EC, 00 46 00 46
#
# 10 values for replacement
replace_float = 6C3C88, 1.05, 0.75
replace_float = 6C3C90, 1.07, 0.8
replace_float = 6C3C98, 1.1, 0.84
replace_float = 6C3CA0, 1.35, 0.86
replace_float = 6C3CA8, 1.7, 0.88
replace_float = 6C3CB0, 1.8, 0.9
replace_float = 6C3CB8, 2.2, 0.92
replace_float = 6C3CC0, 2.4, 0.94
replace_float = 6C3CC8, 2.6, 0.96
replace_float = 6C3CD0, 2.8, 1.0
</Patch>


<Patch>
patch_name = `My 15 line spacing values` 
patch_enable = `yes`
# load val1 from new table
replace_bytes = 6C3ABC, 00 23 00 22 C3 F6 F0 73, 00 46 40 A3 D3 E9 00 23
# load val5 from new table
replace_bytes = 6C3B14, 43 F2 33 33 4F F0 33 32, 2C A3 D3 E9 00 23 00 46
replace_bytes = 6C3B1C, C3 F6 F3 73, 00 46 00 46
# load val7 from new table
replace_bytes = 6C3B42, 00 23 00 22 C3 F6 F8 73, 00 46 22 A3 D3 E9 00 23
# load val10 from new table
replace_bytes = 6C3B80, 00 22 4F F0 80 43, 15 A3 D3 E9 00 23
# load val11-val14 from old table in a loop to make room for new table
replace_bytes = 6C3B94, 48 A3 D3 E9 00 23 07 F1, 48 A7 00 26 D7 E9 00 23
replace_bytes = 6C3B9C, 80 01 20 46 61 E9 0A 23, 20 A9 31 44 61 E9 0A 23
replace_bytes = 6C3BA4, 8D F5 22 ED 45 A3 D3 E9, 20 46 8D F5 22 ED 08 36
replace_bytes = 6C3BAC, 00 23 07 F1 80 01 20 46, 08 37 20 2E F2 D1 00 AF
# load val15 from new table, jump over new table
replace_bytes = 6C3BB4, 61 E9 08 23 8D F5 18 ED, 0A A3 D3 E9 00 23 17 E0
# new table, inial values 1.0, 1.2, 1.5, 2.0, 3.0
replace_bytes = 6C3BC0, 00 23 07 F1 80 01 20 46, 00 00 00 00 00 00 F0 3F
replace_bytes = 6C3BC8, 61 E9 06 23 8D F5 0E ED, 33 33 33 33 33 33 F3 3F
replace_bytes = 6C3BD0, 3F A3 D3 E9 00 23 07 F1, 00 00 00 00 00 00 F8 3F
replace_bytes = 6C3BD8, 80 01 20 46 61 E9 04 23, 00 00 00 00 00 00 00 40
replace_bytes = 6C3BE0, 8D F5 04 ED 00 23 00 22, 00 00 00 00 00 00 08 40
#
# 15 values for replacement
replace_float = 6C3BC0, 1.0, 0.7
replace_float = 6C3C88, 1.05, 0.75
replace_float = 6C3C90, 1.07, 0.8
replace_float = 6C3C98, 1.1, 0.82
replace_float = 6C3BC8, 1.2, 0.84
replace_float = 6C3CA0, 1.35, 0.86
replace_float = 6C3BD0, 1.5, 0.88
replace_float = 6C3CA8, 1.7, 0.9
replace_float = 6C3CB0, 1.8, 0.92
replace_float = 6C3BD8, 2.0, 0.94
replace_float = 6C3CB8, 2.2, 0.96
replace_float = 6C3CC0, 2.4, 0.98
replace_float = 6C3CC8, 2.6, 1.0
replace_float = 6C3CD0, 2.8, 1.05
replace_float = 6C3BE0, 3.0, 1.1
</Patch>


<Patch>
patch_name = `Custom fonts sizes`
patch_enable = `yes`
# Multi-version patch: 3.12.0 - 3.12.0+
find_base_address = `\x0C\0\0\0\x0E\0\0\0\x10\0\0\0\x11\0\0\0\x12\0\0\0\x13`
# 40 values for replacement
replace_int = 0000, 12, 16
replace_int = 0004, 14, 18
replace_int = 0008, 16, 20
replace_int = 000C, 17, 21
replace_int = 0010, 18, 22
replace_int = 0014, 19, 23
replace_int = 0018, 20, 24
replace_int = 001C, 21, 25
replace_int = 0020, 22, 26
replace_int = 0024, 24, 27
replace_int = 0028, 25, 28
replace_int = 002C, 26, 29
replace_int = 0030, 28, 30
replace_int = 0034, 32, 31
replace_int = 0038, 36, 32
replace_int = 003C, 40, 33
replace_int = 0040, 44, 34
replace_int = 0044, 46, 35
replace_int = 0048, 48, 36
replace_int = 004C, 50, 37
replace_int = 0050, 52, 38
replace_int = 0054, 54, 39
replace_int = 0058, 56, 40
replace_int = 005C, 58, 41
replace_int = 0060, 60, 42
replace_int = 0064, 62, 43
replace_int = 0068, 64, 44
replace_int = 006C, 66, 45
replace_int = 0070, 68, 46
replace_int = 0074, 70, 47
replace_int = 0078, 72, 48
replace_int = 007C, 74, 49
replace_int = 0080, 76, 50
replace_int = 0084, 78, 52
replace_int = 0088, 80, 54
replace_int = 008C, 82, 56
replace_int = 0090, 84, 58
replace_int = 0094, 86, 60
replace_int = 0098, 88, 62
replace_int = 009C, 90, 64
</Patch>


<Patch>
patch_name = `Custom left & right margins`
patch_enable = `yes`
# Multi-version patch: 2.8.1 - 3.12.0+
find_base_address = `\0\0\0\0\x02\0\0\0\x04\0\0\0\x06\0\0\0\x08\0\0\0\x0A\0\0\0\x0C\0\0\0\x0E\0\0\0\x10\0\0\0`
# Values for replace
replace_int = 0000, 00, 00
replace_int = 0004, 02, 01
replace_int = 0008, 04, 02
replace_int = 000C, 06, 03
replace_int = 0010, 08, 04
replace_int = 0014, 10, 05
replace_int = 0018, 12, 06
replace_int = 001C, 14, 07
replace_int = 0020, 16, 08
</Patch>


<Patch>
patch_name = `Brightness fine control`
patch_enable = `yes`
replace_int = 975B4A, 10, 01
replace_int = 975B7A, 10, 01
</Patch>


<Patch>
patch_name = `Search in Library by default`
patch_enable = `yes`
replace_bytes = A32CD8, 00 21, 01 21
</Patch>


<Patch>
patch_name = `Unitless ePub line height`
patch_enable = `yes`
# Multi-version patch: 3.3.0 - 3.12.0+
#
# See http://www.mobileread.com/forums/showpost.php?p=2812097&postcount=31
# for a description of the problem fixed by this patch.
#
# line-height: %1em !important; --> line-height: %1   !important;
#
find_base_address = `\x10\0\0\0 \0l\0i\0n\0e\0-\0h\0e\0i\0g\0h\0t\0:\0 \0%\01\0e\0m\0`
replace_bytes = 24, 65 00 6D 00, 20 00 20 00
</Patch>


<Patch>
patch_name = `Freedom to advanced fonts control`
patch_enable = `no`
#
# This patch allows the advanced font options (weight/sharpness adjustments)
# to be used with sideloaded fonts too.
#
# WARNING: IT IS NOT SAFE TO ENABLE THIS PATCH IF YOUR DEVICE IS SET TO A
# JAPANESE LOCALE OR JAPANESE BOOKS ARE OPENED.
#
# VolumeManager.isJapanese() --> False
replace_bytes = 6C1184, 81 F5 48 EC, 00 20 00 20
# N3FontTypeUtil.setupMonotypeDropdown(a,b)
# --> N3FontTypeUtil.setupDropdown(UNDEFINED,a,b) 451528
replace_bytes = 83DB32, 58 46 51 46, 59 46 52 46
replace_bytes = 83DB36, FC F7 BC E5, 13 F4 F8 EC
# N3FontTypeController.setupAdvancedOption --> NOP
replace_bytes = 99F552, C6 F6 BC E5, 00 46 00 46
replace_bytes = 9A15F8, C4 F6 68 E5, 00 46 00 46
</Patch>


<Patch>
patch_name = `Allow download all in Browser`
patch_enable = `no`
replace_bytes = 86E720, F5 F7 44 E3, 01 20 01 20
</Patch>


<Patch>
patch_name = `ePub fixed/adjustable top/bottom margins`
patch_enable = `no`
#
# If enabled, this patch sets the @page margin sizes in epubs, overriding any
# @page margin set in the book's stylesheet.
#
# By default the top and bottom margins are set to be adjustable, their size
# similar to the left/right margin size set by the adjustment slider. There
# are options to set the top and/or bottom margin to a fixed size instead.
#
# Note that this patch has the side-effect of removing the body bottom padding
# from the built-in stylesheet, which means that there will no longer be a line
# of padding added automatically at the end of chapters.
#
# getReadingLineHeight(...) --> getReadingLeftMargin(...)
replace_bytes = 51EBC0, 4A F7 EC E8, 2C F7 F4 ED
# QString.arg(double, ...) --> QString.arg(int64, ...)
replace_bytes = 51EBC4, 20 22 4F F0 FF 33, 20 21 01 22 0A 23
replace_bytes = 51EBCE, AD F8 04 20 00 93, 02 91 42 43 01 93
replace_bytes = 51EBD8, 00 22 67 23 37 F7 EA EC, 00 23 00 93 2C F7 94 E9
#      padding-bottom: %1em !important;\n
# --> }@page{margin:%1px 0 %1px 0}\nbody{
replace_string = C99B8C, `\x20\0p\0a\0d\0d\0i\0n\0g\0-\0b\0o\0t\0t\0o\0m\0:\0 \0%\01\0e\0m\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0\n\0`, `}\0@\0p\0a\0g\0e\0{\0m\0a\0r\0g\0i\0n\0:\0%\01\0p\0x\0 \00\0 \0%\01\0p\0x\0 \00\0}\0\n\0b\0o\0d\0y\0{\0`
#
# Optional replacement value: Uncomment for a fixed top margin size in px,
# default 25px. Replacement value is margin size, two digits separated by \0
# (Leave commented out for an adjustable top margin.)
#replace_string = C99BA8, `%\01`, `2\05`
#
# Optional replacement value: Uncomment for a fixed bottom margin size in px,
# default 00px. Replacement value is margin size, two digits separated by \0
# (Leave commented out for an adjustable bottom margin.)
#replace_string = C99BB6, `%\01`, `0\00`
#
# Replacement value: Sets the value of the adjustable top/bottom margin (if any)
# to a multiple of readingLeftMargin, in pixels. Suggested values are:
# Normal reading mode: 5px (Touch/Mini), 6px (Glo/Aura), 8px (AuraHD/H2O)
# Full-screen reading mode: 6px (Touch/Mini), 7px (Glo/Aura), 10px (AuraHD/H2O)
replace_int = 51EBC6, 1, 6
</Patch>


<Patch>
patch_name = `Custom page refresh options`
patch_enable = `no`
# cmp r5, #7; bne.n; --> cmp r5, #6; bls.n;
replace_bytes = 844134, 07 2D 9A D1, 06 2D 9A D9
#
# Values for replacement: (Alternative 1, arithmetic sequence e.g. 1,2,3,...,12)
# Base (use this value for the first menu option):
replace_int = 844064, 1, 1
# Increment (add this value to get each successive menu option):
replace_int = 844132, 1, 1
# Maxmium (stop adding options when this value is exceeded):
replace_int = 844134, 6, 12
#
# Values for replacement: (Alternative 2, geometric sequence 1,2,4,8,16,32,64)
# Base (use this value for the first menu option):
#replace_int = 844064, 1, 1
# Double to get each successive menu option:
#replace_bytes = 844132, 01 35, 6D 00
# Maxmium (stop adding options when this value is exceeded):
#replace_int = 844134, 6, 64
</Patch>


<Patch>
patch_name = `Remove system fonts in Reader list`
patch_enable = `no`
#
# Removes Amasis, Avenir, Caecilia, Georgia, Gill Sans, Kobo Nickel, Malabar.
# BEWARE: Also removes sideloaded Delima, Felbridge, Rockwell, Times New Roman.
#
replace_bytes = 9A366C, A1 F6 90 E2, 00 46 00 46
</Patch>


<Patch>
patch_name = `Remove non-system fonts in Reader list`
patch_enable = `no`
#
# Removes Gothic, Ryumin, OpenDyslexic.
# BEWARE: Also removes most other sideloaded fonts.
#
replace_bytes = 9A369A, A1 F6 7A E2, 00 46 00 46
</Patch>


<Patch>
patch_name = `Cyrillic keyboard`
patch_enable = `no`
# Enable uppercase for sharp-s key
replace_bytes = 90723C, 00 24, 01 24
# Replace layout sign
replace_bytes = D6BF78, C3 89 C3 80 C3 87, D0 B0 D0 B1 D0 B2
# Change keyboard layout
base_address = D6BE98
replace_bytes = 0000, C3 A6, D0 B9
#
replace_bytes = 0004, C3 A0, D1 86
replace_bytes = 0008, C3 A8, D1 83
replace_bytes = 000C, C3 AC, D0 BA
replace_bytes = 0010, C3 B2, D0 B5
replace_bytes = 0014, C3 B9, D0 BD
replace_bytes = 0018, C3 A1, D0 B3
replace_bytes = 001C, C3 A9, D1 88
replace_bytes = 0020, C3 AD, D1 89
replace_bytes = 0024, C3 B3, D0 B7
replace_bytes = 0028, C3 BA, D1 85
replace_bytes = 002C, C3 BD, D1 8A
#
replace_bytes = 0030, C5 93, D1 84
#
replace_bytes = 0034, C3 A2, D1 8B
replace_bytes = 0038, C3 AA, D0 B2
replace_bytes = 003C, C3 AE, D0 B0
replace_bytes = 0040, C3 B4, D0 BF
replace_bytes = 0044, C3 BB, D1 80
replace_bytes = 0048, C3 A4, D0 BE
replace_bytes = 004C, C3 AB, D0 BB
replace_bytes = 0050, C3 AF, D0 B4
replace_bytes = 0054, C3 B6, D0 B6
replace_bytes = 0058, C3 BC, D1 8D
replace_bytes = 005C, C3 BF, D1 91
#
replace_bytes = 0060, C3 A3, D1 8F
replace_bytes = 0064, C3 B1, D1 87
replace_bytes = 0068, C3 B5, D1 81
replace_bytes = 006C, C3 A5, D0 BC
#
replace_bytes = 0070, C3 9F, D0 B8
#
replace_bytes = 0074, C3 A7, D1 82
replace_bytes = 0078, C4 91, D1 8C
replace_bytes = 007C, C3 B8, D0 B1
replace_bytes = 0080, C4 B3, D1 8E
#
replace_bytes = 0084, C5 82, 2E 00
</Patch>


<Patch>
patch_name = `Force user line spacing in KePubs`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
#
# This patch will allow the line spacing set by the slider to take effect
# in some problem KePub books with fixed linespacing (ones where the publisher
# has used <div> instead of <p> for pararaphs.) However it might also override
# some line spacing that would better be left fixed.
#
# body, p { line-height: %1 ... }  -->  body,div,p{line-height:%1 ... }
find_base_address = `b\0o\0d\0y\0,\0 \0p\0 \0{\0 \0l\0i\0n\0e\0-\0h\0e\0i\0g\0h\0t\0:\0 \0%`
replace_string = 0000, `b\0o\0d\0y\0,\0 \0p\0 \0{\0 \0l\0i\0n\0e\0-\0h\0e\0i\0g\0h\0t\0:\0 \0%`, `b\0o\0d\0y\0,\0d\0i\0v\0,\0p\0{\0l\0i\0n\0e\0-\0h\0e\0i\0g\0h\0t\0:\0%`
</Patch>


<Patch>
patch_name = `Customise PinchGestureRecognizer`
patch_enable = `no`
# PinchGestureRecognizer::StationaryTolerance
replace_float = CFDBF0, 5.0, 5.0
# PinchGestureRecognizer::UpdateTolerance
replace_float = CFDBF8, 10.0, 10.0
# PinchGestureRecognizer::TriggerTolerance
replace_float = CFDC00, 30.0, 30.0
</Patch>


<Patch>
patch_name = `Wi-Fi insomnia`
patch_enable = `no`
#
# Do not enable this patch unless you're sure you need it.
# It prevents the wifi turning off, which may drain the device's battery.
#
replace_bytes = 624F5C, 29 B9, 00 46
</Patch>


<Patch>
patch_name = `Margins fine tuning`
patch_enable = `no`
#
# Do not enable this patch unless you're sure you need it.
# It may cause the screen to be off-centre.
#
# Initial replaces
replace_bytes = 9FC5FC, 19 46, 00 21
replace_bytes = 9FC600, 1A 46, 00 22
# Values for replace
# Left margin
replace_int = 9FC5FC, 0, 10
# Top margin
replace_int = 9FC600, 0, 10
</Patch>


<Patch>
patch_name = `Custom kepub default margins`
patch_enable = `no`
# Device = Glo/Aura, Type = pocket article or non-Japanese kepub
replace_int = 6601B6, 25, 5
# Device = Glo/Aura, Type = Japanese kepub
replace_int = 6601B8, 45, 5
# Device = Other, Type = Any
replace_int = 6601C6, 20, 5
</Patch>


<Patch>
patch_name = `Block WiFi firmware upgrade`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
#
# This patch is untested. If it works then the firmware will not be upgraded
# during a WiFi sync, but you can still upgrade manually or by syncing with
# the Kobo desktop.
#
find_base_address = `U\0p\0g\0r\0a\0d\0e\0C\0h\0e\0c\0k\0/\0%\01\0/\0%\02\0/\0%\03\0/\0%\04\0/\0%\05\0`
replace_string = 26, `%\03\0/\0%\04\0/\0%\05\0`, `k\0/\09\09\0.\09\0/\05\0`
</Patch>


<Patch>
patch_name = `Compact homepage layout (Glo)`
patch_enable = `no`
#DragonHomePageView (Search bar height)
replace_string = D51AE8, `min-height:100px;`, `min-height:090px;`
replace_string = D51AFB, `max-height:100px;`, `max-height:090px;`
#QWidget (Space below search bar)
replace_string = D51C81, `min-height:40px;`, `min-height:08px;`
replace_string = D51C93, `max-height:40px;`, `max-height:08px;`
#MultiColumnTileView (Space between tiles)
replace_string = D51E31, `horizontalSpacing:10;`, `horizontalSpacing:04;`
replace_string = D51E52, `verticalSpacing:10;`, `verticalSpacing:04;`
#footer (Footer menu bar height)
replace_string = D5227E, `min-height:95px;`, `min-height:68px;`
replace_string = D52290, `max-height:95px;`, `max-height:68px;`
#PhoenixSmallRecentBookTile
replace_string = D59024, `percentFontSize:28;`, `percentFontSize:22;`
replace_string = D59043, `progressFontSize:22;`, `progressFontSize:22;`
#RecentBookTile
replace_string = D5C51B, `percentFontSize:28;`, `percentFontSize:22;`
replace_string = D5C540, `progressFontSize:22;`, `progressFontSize:22;`
</Patch>


<Patch>
patch_name = `Compact homepage layout (Aura)`
patch_enable = `no`
#DragonHomePageView (Search bar height)
replace_string = D51AE8, `min-height:100px;`, `min-height:090px;`
replace_string = D51AFB, `max-height:100px;`, `max-height:090px;`
#QWidget (Space below search bar)
replace_string = D51C81, `min-height:40px;`, `min-height:02px;`
replace_string = D51C93, `max-height:40px;`, `max-height:02px;`
#MultiColumnTileView (Space between tiles)
replace_string = D51E31, `horizontalSpacing:10;`, `horizontalSpacing:02;`
replace_string = D51E52, `verticalSpacing:10;`, `verticalSpacing:02;`
#footer (Footer menu bar height)
replace_string = D5227E, `min-height:95px;`, `min-height:68px;`
replace_string = D52290, `max-height:95px;`, `max-height:68px;`
#PhoenixSmallRecentBookTile
replace_string = D59024, `percentFontSize:28;`, `percentFontSize:22;`
replace_string = D59043, `progressFontSize:22;`, `progressFontSize:22;`
#RecentBookTile
replace_string = D5C51B, `percentFontSize:28;`, `percentFontSize:22;`
replace_string = D5C540, `progressFontSize:22;`, `progressFontSize:22;`
</Patch>


<Patch>
patch_name = `Remove white borders from homescreen tile book covers`
patch_enable = `no`
#PhoenixSmallRecentBookTile
replace_string = D59063, `coverBorder:4;`, `coverBorder:0;`
replace_string = D59134, `coverBorder:4;`, `coverBorder:0;`
#PocketRecentlyReadTile
replace_string = D5A02E, `coverBorder: 6;`, `coverBorder: 0;`
replace_string = D5A0F3, `coverBorder: 4;`, `coverBorder: 0;`
#RecentBookTile
replace_string = D5C4C8, `coverBorder:6;`, `coverBorder:0;`
replace_string = D5C580, `coverBorder:4;`, `coverBorder:0;`
replace_string = D5C667, `coverBorder:4;`, `coverBorder:0;`
#SmallRecentBookTile
replace_string = D5EDCE, `coverBorder:6;`, `coverBorder:0;`
</Patch>


<Patch>
patch_name = `Custom footer`
patch_enable = `no`
# Multi-version patch: 2.8.1 - 3.12.0+
#
# Changes the footer text with something shorter
# (not sure how it affects translations)
#
find_base_address = `Page %1 <i>of</i> %2`
replace_string = 0000, `Page %1 <i>of</i> %2`, `%1 / %2`
</Patch>


<Patch>
patch_name = `Custom Sleep/Power-off timeouts`
patch_enable = `no`
# Values displayed on both menus
replace_string = DF5E0C, `5 mins\0`, `10 mins`
replace_string = DF5E14, `10 mins`, `20 mins`
replace_string = DF5E1C, `15 mins`, `30 mins`
replace_string = DF5E24, `30 mins`, `1 hour`
replace_string = DF5E2C, `45 mins`, `2 hours`
replace_string = DF5E34, `60 mins`, `4 hours`
# Actual values used for sleep menu
replace_int = A6EF16, 5, 10
replace_int = A6EF60, 10, 20
replace_int = A6EFA4, 15, 30
replace_int = A6EFE8, 30, 60
replace_int = A6F02C, 45, 120
replace_int = A6F070, 60, 240
# Actual values used for power menu
replace_int = A6F124, 5, 10
replace_int = A6F168, 10, 20
replace_int = A6F1AA, 15, 30
replace_int = A6F1EA, 30, 60
replace_int = A6F22A, 45, 120
replace_int = A6F268, 60, 240
</Patch>


<Patch>
patch_name = `Set kepub hyphenation`
patch_enable = `no`
#
# The built-in kepub stylesheet has a line "* { -webkit-hyphenation: auto; }"
# to turn on hyphenation, but it is only used if the device's justification
# button is set to full justification. With this patch enabled hyphenation
# will always/never be turned on, regardless of justification button setting.
#
# (Note that if the publisher has set the hyphenation in the book's stylesheet
# then that will override the built-in stylesheet.)
#
# Alternative 1: Always turn kepub hyphenation on
replace_bytes = 9FE476, 5B F6 8C E1, 01 20 01 20
# Alternative 2: Never turn kepub hyphenation on
#replace_bytes = 9FE476, 5B F6 8C E1, 00 20 00 20
</Patch>


<Patch>
patch_name = `Fix kepub side bearing font cut-off bug`
patch_enable = `no`
# Multi-version patch: 3.12.0 - 3.12.0+
#
# In kepubs, characters with large side bearing values (such as f) can be cut
# off if they appear at the very end of a line. The problem seems to be most
# noticable in full-screen mode. To fix it this patch adds one of the following
# lines to the built-in kepub stylesheet:
#
#  div#book-columns{padding-left:.2em!important;padding-right: .2em!important}
#  div#book-columns{padding-top: .2em!important;padding-bottom:.2em!important}
#  div#book-columns{padding:     .2em                          .2em!important}
#  body>*          {padding-left:.2em!important;padding-right: .2em!important}
#  body>*          {padding-top: .2em!important;padding-bottom:.2em!important}
#  body>*          {padding:     .2em                          .2em!important}
#
# There are two main types of kepub, each affected differently by this patch:
#
# Type 1: kepubs created by Kobo from epub2 books, or created by Calibre with
#         a new version of the KoboTouchExtended driver.
#
# Type 2: kepubs created by Kobo from epub3 books, or created by Calibre with
#         an old version of the KoboTouchExtended driver.
#
# Type 1 kepubs work best with this patch, the only side effects should be
# slightly larger screen margins. Some Type 2 kepubs might suffer additional
# side effects such as extra horizontal or vertical space between elements.
# There is an option below (marked **1**) where you can choose whether to
# fix the bug only for Type 1 kepubs (default) or for both types.
#
# There are also options below (marked **2**) to make the patch suit kepubs
# with horizontal or vertical text directions, or both. The side effects for
# Type 2 kepubs will likely be worse if the option for both horizontal and
# vertical is chosen.
#
#
# base_address = DB4470
find_base_address = `.\0K\0B\0H\0i\0g\0h\0l\0i\0g\0h\0t\0i\0n\0g\0 \0{\0 \0b\0a\0c\0k\0g\0r\0o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0 \0#\0C\06\0C\06\0C\06\0`
#
replace_string = 0000, `.\0K\0B\0H\0i\0g\0h\0l\0i\0g\0h\0t\0i\0n\0g\0 \0{\0 \0b\0a\0c\0k\0g\0r\0o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0 \0#\0C\06\0C\06\0C\06\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `.\0K\0B\0H\0i\0g\0h\0l\0i\0g\0h\0t\0i\0n\0g\0{\0b\0a\0c\0k\0g\0r\0o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0#\0C\06\0C\06\0C\06\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0S\0t\0a\0c\0k\0`
#
replace_string = 0076, `.\0K\0B\0S\0t\0a\0c\0k\0K\0e\0y\0w\0o\0r\0d\0,\0 \0.\0K\0B\0S\0e\0a\0r\0c\0h\0R\0e\0s\0u\0l\0t\0,\0 \0.\0K\0B\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0,\0 \0.\0K\0B\0H\0i\0g\0h\0l\0i\0g\0h\0t\0i\0n\0g\0 \0,\0 \0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0{\0 \0f\0o\0n\0t\0-\0s\0i\0z\0e\0:\0 \01\00\00\0%\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0-\0w\0e\0b\0k\0i\0t\0-\0t\0e\0x\0t\0-\0c\0o\0m\0b\0i\0n\0e\0:\0 \0i\0n\0h\0e\0r\0i\0t\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `K\0e\0y\0w\0o\0r\0d\0,\0.\0K\0B\0S\0e\0a\0r\0c\0h\0R\0e\0s\0u\0l\0t\0,\0.\0K\0B\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0,\0.\0K\0B\0H\0i\0g\0h\0l\0i\0g\0h\0t\0i\0n\0g\0,\0 \0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0{\0f\0o\0n\0t\0-\0s\0i\0z\0e\0:\01\00\00\0%\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0-\0w\0e\0b\0k\0i\0t\0-\0t\0e\0x\0t\0-\0c\0o\0m\0b\0i\0n\0e\0:\0i\0n\0h\0e\0r\0i\0t\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0S\0e\0a\0r\0c\0h\0R\0e\0s\0u\0l\0t\0{\0b\0a\0c\0k\0g\0r\0`
#
replace_string = 01B6, `.\0K\0B\0S\0e\0a\0r\0c\0h\0R\0e\0s\0u\0l\0t\0 \0{\0 \0b\0a\0c\0k\0g\0r\0o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0 \0#\0C\06\0C\06\0C\06\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0#\0C\06\0C\06\0C\06\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0S\0t\0a\0c\0k\0K\0e\0y\0w\0o\0r\0d\0 \0a\0{\0c\0o\0l\0o\0r\0:\0b\0l\0a\0c\0k\0!\0`
#
replace_string = 22C, `.\0K\0B\0S\0t\0a\0c\0k\0K\0e\0y\0w\0o\0r\0d\0 \0a\0 \0{\0 \0c\0o\0l\0o\0r\0:\0 \0b\0l\0a\0c\0k\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0,\0.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0`
#
replace_string = 028C, `.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0,\0 \0.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0C\0o\0n\0t\0i\0n\0u\0e\0d\0 \0{\0 \0b\0a\0c\0k\0g\0r\0o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0 \0t\0r\0a\0n\0s\0p\0a\0r\0e\0n\0t\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0t\0e\0x\0t\0-\0d\0e\0c\0o\0r\0a\0t\0i\0o\0n\0:\0 \0n\0o\0n\0e\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `n\0C\0o\0n\0t\0i\0n\0u\0e\0d\0{\0b\0a\0c\0k\0g\0r\0o\0u\0n\0d\0-\0c\0o\0l\0o\0r\0:\0t\0r\0a\0n\0s\0p\0a\0r\0e\0n\0t\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0t\0e\0x\0t\0-\0d\0e\0c\0o\0r\0a\0t\0i\0o\0n\0:\0n\0o\0n\0e\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0S\0t\0a\0c\0k\0K\0e\0y\0w\0o\0r\0d\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0 \0a\0{\0b\0o\0r\0`
#
replace_string = 0392, `.\0K\0B\0S\0t\0a\0c\0k\0K\0e\0y\0w\0o\0r\0d\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0 \0a\0 \0{\0 \0b\0o\0r\0d\0e\0r\0-\0b\0o\0t\0t\0o\0m\0:\0 \01\0p\0x\0 \0s\0o\0l\0i\0d\0 \0b\0l\0a\0c\0k\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `d\0e\0r\0-\0b\0o\0t\0t\0o\0m\0:\01\0p\0x\0 \0s\0o\0l\0i\0d\0 \0b\0l\0a\0c\0k\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0,\0.\0K\0B\0A\0u\0t\0h\0o\0r\0`
#
replace_string = 0450, `.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0,\0 \0.\0K\0B\0A\0u\0t\0h\0o\0r\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0C\0o\0n\0t\0i\0n\0u\0e\0d\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0 \0{\0 \0b\0o\0r\0d\0e\0r\0-\0b\0o\0t\0t\0o\0m\0:\0 \02\0p\0x\0 \0d\0o\0t\0t\0e\0d\0 \0b\0l\0a\0c\0k\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0C\0o\0n\0t\0i\0n\0u\0e\0d\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0{\0b\0o\0r\0d\0e\0r\0-\0b\0o\0t\0t\0o\0m\0:\02\0p\0x\0 \0d\0o\0t\0t\0e\0d\0 \0b\0l\0a\0c\0k\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0.\0K\0B\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0,\0.\0K\0B\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0C\0o\0n\0t\0i\0n\0u\0e\0d\0[\0w\0`
#
replace_string = 058A, `.\0K\0B\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0,\0 \0.\0K\0B\0A\0n\0n\0o\0t\0a\0t\0i\0o\0n\0C\0o\0n\0t\0i\0n\0u\0e\0d\0[\0w\0r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0 \0{\0 \0b\0o\0r\0d\0e\0r\0-\0b\0o\0t\0t\0o\0m\0:\0 \02\0p\0x\0 \0s\0o\0l\0i\0d\0 \0b\0l\0a\0c\0k\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0 \0}\0 \0\t\0`, `r\0i\0t\0i\0n\0g\0M\0o\0d\0e\0=\0"\0h\0o\0r\0i\0z\0o\0n\0t\0a\0l\0-\0t\0b\0"\0]\0{\0b\0o\0r\0d\0e\0r\0-\0b\0o\0t\0t\0o\0m\0:\02\0p\0x\0 \0s\0o\0l\0i\0d\0 \0b\0l\0a\0c\0k\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0d\0i\0v\0#\0b\0o\0o\0k\0-\0c\0o\0l\0u\0m\0n\0s\0{\0p\0a\0d\0d\0i\0n\0g\0-\0l\0e\0f\0t\0:\0.\02\0e\0m\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0p\0a\0d\0d\0i\0n\0g\0-\0r\0i\0g\0h\0t\0:\0 \0.\02\0e\0m\0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0}\0\t\0`
#
# Fix typo in annotations styles: KBAuthorAnnotation --> .KBAuthorAnnotation
replace_string = 00E2, `\x20`, `.`
#
# Choose padding size: 1 = 0.1em, 2 = 0.2em, etc.
replace_string = 0650, `2`, `2`
replace_string = 068C, `2`, `2`
#
#
# **1** Choose to fix bug for Type1 kepubs only, or both Type1 and Type2 kepubs.
# Default fixes the bug for Type 1 kepubs and has no effect on type 2 kepubs.
#
# Uncomment the following replace_string line to fix the bug for both types,
# but beware there can be undesirable side effects for some Type 2 kepubs:
#replace_string = 0612, `d\0i\0v\0#\0b\0o\0o\0k\0-\0c\0o\0l\0u\0m\0n\0s\0`, `b\0o\0d\0y\0>\0*\0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0`
#
#
# **2** Choose padding location to suit text direction of your kepubs.
# Default is left/right padding (suits horizontal text directions only.)
#
# Either uncomment the following two replace_string lines for top/bottom
# padding (suits vertical text directions only) ...
#replace_string = 0644, `l\0e\0f\0t\0:\0`, `t\0o\0p\0:\0 \0`
#replace_string = 067C, `r\0i\0g\0h\0t\0:\0 \0`, `b\0o\0t\0t\0o\0m\0:\0`
#
# ... or else uncomment the following two replace_string lines for top/bottom
# and left/right padding (suits both horizontal and vertical text directions,
# but may have some undesirable side effects on the layout of Type 2 kepubs,
# such as extra spece between paragraphs.)
#replace_string = 0642, `-\0l\0e\0f\0t\0:\0`, `:\0 \0 \0 \0 \0 \0`
#replace_string = 0656, `!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0p\0a\0d\0d\0i\0n\0g\0-\0r\0i\0g\0h\0t\0:\0`, `\x20\0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0`
#
</Patch>


<Patch>
patch_name = `Enforce user line spacing and justification in ePubs`
patch_enable = `no`
#
# This patch causes the line spacing and justification settings selected from
# the reading settings (Aa) menu to be applied at body and paragraph level,
# instead of just at body level. This will result in the settings taking effect
# for some books where they wouldn't before, but there will still be some books
# where they won't take effect, and there may also be some books where they do
# take effect when they shouldn't. (The only way to get perfect results is to
# edit the epub and fix the problems at source.)
#
replace_string = C99AD0, `b\0o\0d\0y\0 \0{\0\n\0`, `b\0o\0d\0y\0,\0p\0{\0`
#
# Comment out the following line if the `ePub adjustable top/bottom margin` or
# `ePub fixed top/bottom margin` patches are enabled.
#
replace_string = C99B8E, `p\0a\0d\0d\0i\0n\0g\0-\0b\0o\0t\0t\0o\0m\0:\0 \0%\01\0e\0m\0 \0!\0i\0m\0p\0o\0r\0t\0a\0n\0t\0;\0\n\0`, `}\0 \0b\0o\0d\0y\0 \0{\0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0 \0\n\0`
</Patch>


<Patch>
patch_name = `ePub fixed font sharpness`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
#
# This patch causes a fixed value for font sharpness to be used in epub books,
# instead of the value set by the advanced font sharpness/weight slider. The
# slider sharpness values range from -0.4(min.) to 0.2(max.), default -0.0666.
# This patch allows one of three fixed values: 0.0, 0.1, or 0.2.
#
# -kobo-font-sharpness: %1; --> -kobo-font-sharpness:0.0
#
find_base_address = `\x10\0\0\0 \0-\0k\0o\0b\0o\0-\0f\0o\0n\0t\0-\0s\0h\0`
replace_string = 0030, `\x20\0%\01\0`, `0\0.\00\0`
#
# Replacement sharpness value: `0` = 0.0, `1` = 0.1, `2` = 0.2.
replace_string = 0034, `0`, `2`
</Patch>


<Patch>
patch_name = `KePub fixed font sharpness`
patch_enable = `no`
# Multi-version patch: 3.11.0 - 3.12.0+
#
# This patch causes a fixed value for font sharpness to be used in kepub books,
# instead of the value set by the advanced font sharpness/weight slider. The
# slider sharpness values range from -0.4(min.) to 0.2(max.), default -0.0666.
# This patch allows one of three fixed values: 0.0, 0.1, or 0.2.
#
#     body { -kobo-font-sharpness: %1; -kobo-font-thickness: %2; }\n
# --> body{-kobo-font-sharpness:0.0/*%1*/;-kobo-font-thickness:%2}\n
#
find_base_address = `b\0o\0d\0y\0 \0{\0 \0-\0k\0o\0b\0o\0-\0f\0o\0n\0t\0-\0s\0h\0`
replace_string = 0000, `b\0o\0d\0y\0 \0{\0 \0-\0k\0o\0b\0o\0-\0f\0o\0n\0t\0-\0s\0h\0a\0r\0p\0n\0e\0s\0s\0:\0 \0%\01\0;\0 \0-\0k\0o\0b\0o\0-\0f\0o\0n\0t\0-\0t\0h\0i\0c\0k\0n\0e\0s\0s\0:\0 \0%\02\0;\0 \0}\0\n\0`, `b\0o\0d\0y\0{\0-\0k\0o\0b\0o\0-\0f\0o\0n\0t\0-\0s\0h\0a\0r\0p\0n\0e\0s\0s\0:\00\0.\00\0/\0*\0%\01\0*\0/\0;\0-\0k\0o\0b\0o\0-\0f\0o\0n\0t\0-\0t\0h\0i\0c\0k\0n\0e\0s\0s\0:\0%\02\0}\0\n\0`
#
# Replacement sharpness value: `0` = 0.0, `1` = 0.1, `2` = 0.2.
#
replace_string = 0038, `0`, `2`
</Patch>


<Patch>
patch_name = `Un-force font-family override p tags (std epubs)`
patch_enable = `no`
# Multi-version patch: 3.3.0 - 3.12.0+
#
# This patch makes the following change to the epub user stylesheet to
# prevent the font selected from the device overriding the font set at
# paragraph level in the author stylesheet:
#
#     body, p { font-family: -ua-default !important; }
# --> body    { font-family: -ua-default !important; }
#
find_base_address = `b\0o\0d\0y\0,\0 \0p\0 \0{\0 \0f\0o\0n\0t\0-\0f\0a\0m\0i\0l\0y\0:\0 \0-\0u\0a\0`
replace_string = 0000, `b\0o\0d\0y\0,\0 \0p\0`,`b\0o\0d\0y\0 \0 \0 \0`
</Patch>
